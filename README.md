文件目录 / 文件	功能说明
logsys/include	存放日志模块的头文件（.hpp），定义类、函数的声明，是模块的 “接口层”。
- appendfile.hpp	负责日志内容的持久化存储，比如将日志写入文件（实现文件写入、追加等操作）。
- asunlogging.hpp	可能是整个日志系统的核心封装类，整合其他组件（如 Logger、Timestamp、LogFile 等），提供对外的日志调用接口。
- logcommon.hpp	定义日志系统的通用类型、枚举或工具函数，比如日志级别（DEBUG、INFO、ERROR 等）、字符串格式化工具等。
- logfile.hpp	管理日志文件的生命周期，包括文件创建、滚动（如按大小 / 时间切分日志文件）、归档等操作。
- logger.hpp	是日志系统的 **“logger 实例” 封装 **，负责接收日志消息、格式化、调用输出组件（如 AppendFile）完成日志打印。
- logmessage.hpp	定义日志消息的结构，比如包含日志级别、时间戳、日志内容、线程 ID 等信息，是日志数据的载体。
- timestamp.hpp	提供时间戳相关功能，比如获取当前时间、将时间格式化为字符串（如 “年 - 月 - 日 时：分: 秒”），用于给日志打时间标记。
logsys/src	存放头文件对应的实现代码（.cpp），是模块的 “逻辑层”，实现include中声明的功能。
- timestamp.cpp	是timestamp.hpp的实现文件，具体实现时间获取、时间格式化等函数。
test	存放测试代码，用于验证日志模块的功能是否正常。
- testtimestamp.cpp	专门测试timestamp组件的功能，比如验证时间格式化是否正确、时间获取是否准确。
- CMakeLists.txt	CMake 构建脚本，定义项目的编译规则，比如指定编译哪些源文件、生成可执行程序、设置依赖等。
bin	通常用于存放编译生成的可执行文件（比如测试程序的可执行文件会被输出到这里）。
build	CMake 的构建目录，存放编译过程中的临时文件、中间产物（如目标文件.o、编译日志等），构建完成后可删除重建。
client/server	若项目是分布式架构，这两个目录可能用于存放客户端 / 服务端的业务代码



5个核心类，构成了整个日志库的骨架：
时间戳对象 (Timestamp)
日志流对象 (LogMessage)
日志对象 (Logger)
文件写对象 (AppendFile)
日志文件对象 (LogFile)

确定对象中的方法（类的职责）
1. 时间戳对象 (Timestamp)
职责：提供高精度、线程安全的时间获取和格式化功能。
核心方法：
now(): 静态方法，获取当前时间。
toString(): 返回一个用于调试的原始字符串（如 1665625811 .439270）。
toFormattedString(): 返回格式化的人类可读字符串（如 2022/10/13 01:50:11.439270Z）。
<img width="703" height="890" alt="image" src="https://github.com/user-attachments/assets/c02d4a28-3bea-4491-af81-da50d171b248" />


2. 日志流对象 (LogMessage)
职责：封装单条日志消息的所有信息，并提供流式操作符 << 来组装日志正文。
核心方法：
构造函数：接收日志级别、文件名、函数名、行号，并立即生成日志消息的“头部”（时间、线程ID、级别等）。
operator<<：模板函数，用于向日志消息的正文部分追加内容。
toString()：将完整的日志消息（头部 + 正文）组合成一个字符串。

3. 日志对象 (Logger)
职责：是提供给用户的主要接口。控制单条日志的生命周期，并管理全局的回调函数。
核心方法：
构造函数：接收日志级别、文件名、函数名、行号，并创建一个 LogMessage 成员。
析构函数：这是关键所在！在析构函数中，将 LogMessage 的完整内容通过 output_ 回调函数输出。这确保了从对象创建到销毁构成一条完整的日志。
stream()：返回其内部 LogMessage 对象的引用，以便用户使用 << 操作符。
setOutput(), setFlush()：静态方法，用于设置全局的输出和刷新回调函数

4. 文件写对象 (AppendFile)
职责：对操作系统底层文件IO操作（fopen, fwrite, fclose）进行底层封装，提供高效的、非线程安全的追加写接口。
核心方法：
append()：将数据追加到文件。
flush()将缓冲区数据刷入磁盘。
write()：底层的实际写操作。

5. 日志文件对象 (LogFile)
职责：在 AppendFile 之上，提供线程安全、滚动归档、缓冲等高级功能。它是日志系统的后端核心。
核心方法：
append()：线程安全的日志写入入口。
flush()：线程安全的刷新操作。
rollFile()：执行日志文件滚动，创建新文件。
append_unlocked()：非线程安全的核心写入逻辑，包含了滚动条件的判断。

